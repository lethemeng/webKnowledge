<!-- TOC -->

- [JPG、PNG、GIF、SVG 等格式图片使用场景](#jpgpnggifsvg-%E7%AD%89%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF)
  - [JPEG](#jpeg)
  - [PNG8 和 PNG24](#png8-%E5%92%8C-png24)
  - [GIF](#gif)
  - [SVG](#svg)
  - [Base64](#base64)
  - [WebP](#webp)
- [canvas 和 svg 的区别](#canvas-%E5%92%8C-svg-%E7%9A%84%E5%8C%BA%E5%88%AB)

<!-- /TOC -->

### JPG、PNG、GIF、SVG 等格式图片使用场景

[参考](https://github.com/LiangJunrong/document-library/blob/master/other-library/Interview/PersonalExperience/Other-%E5%9B%BE%E7%89%87.md)

图片从类型上分为： **位图** 和 **矢量图**

- **位图** 又叫点阵图。计算机屏幕上的图是由屏幕上的发光点（即像素）构成的，每个点用二进制数据来描述其颜色与亮度等信息。常见的位图有 **JPG PNG GIF**
- **矢量图** 它是由一系列计算机指令来描述和记录一幅图，一幅图可以解为点、线、面等组成的子图。生成的矢量图文件存储量很小，特别适用于文字设计、图案设计等，而在前端中比较常用的矢量图有 SVG 等格式

压缩分为 **有损压缩** 和 **无损压缩**

- **无损压缩**：无损压缩是对文件本身的压缩，使图片占用的存储空间变小，并且不会损害图片的质量。常见无损压缩有 PNG 等。

- **有损压缩**：有损压缩是对图像本身的改变，会对图片质量造成损害，随着压缩次数越来越多，那么图片质量会越来越差。常见有损压缩有 JPG 等。

像素是用二进制来表示的，不同图片格式中像素与二进制位数之间的对应关系是不同的。一个像素对应的二进制位数越多，那么它可以表示的颜色种类就越多，成像效果也就越细腻，文件体积相应也会越大。

- PNG-8：它有 2^8 种颜色，即 256 种颜色。
- PNG-24：它有 2^24 种颜色，即 1677216 种颜色（1600 万种颜色）。

#### JPEG

有损压缩、体积小、加载快、不支持透明  
JPEG/JPG 采用特殊的有损压缩算法，因此它的压缩文件尺寸较小，下载速度快，成为互联网最广泛使用的格式。

**使用场景**

- 大的背景图
- 轮播图
- Banner 图

#### PNG8 和 PNG24

无损压缩、质量高、体积大、支持透明  
PNG（可移植网络图形格式）是一种无损压缩的高保真的图片格式，它的压缩比高于 GIF，支持图像透明，可以利用 Alpha 通道调节图像透的明度。

png8 有 1 位的布尔透明通道（要么完全透明，要么完全不透明），不支持 alpha 透明。

png24 则有 8 位（256 阶）的布尔透明通道（所谓半透明）

**使用场景**

- 小的 Logo，颜色简单且对比强烈的图片或者背景。
- 颜色简单、对比度强的透明小图。

#### GIF

关键字：支持动画  
GIF 格式，不仅仅支持静止图片，也可以支持动画，并且支持透明背景图像，适用于多种操作系统，体积很小，网上小动画很多是 GIF 格式。但是色域不太广，只支持 256 种颜色，这意味着颜色种类少。

**使用场景**

- 动图

#### SVG

关键字：文本文件、体积小、不失真、兼容性好

SVG（可缩放矢量图形）是一种基于 XML 语法的图像格式，是可缩放的矢量图形。

当图形的复杂度变高的时候，SVG 文件大小会随之上升，因为 SVG 在渲染的时候需要比像素图更多的计算能力，这也意味着性能的损耗。所以在 Logo 等图上，应尽可能简洁。

**使用场景**

- SVG loading 效果图：SVG-Loaders
- 转换工具：在线 JPG、PNG 转 SVG 工具
- 矢量图标库：阿里巴巴矢量图标

#### Base64

关键字：文本文件、依赖编码、小图标解决方案

Base64 并非一种图片格式，而是一种编码方式，它类似于雪碧图，是作为小图标解决方案而存在的。和雪碧图一样，Base64 图片的出现，也是为了减少加载网页图片时对服务器的请求次数，从而提升网页性能。Base64 是作为雪碧图的补充而存在的。

适用场景：

- 图片的实际尺寸很小。尽可能在图片不超过 2KB 的情况下（可查看掘金的 Base64 图）。
- 图片无法以雪碧图的形式与其他小图结合（合成雪碧图仍是主要的减少 HTTP 请求的途径，Base64 是雪碧图的补充）。
- 图片的更新频率非常低（不需要我们重复编码和修改文件内容，维护成本较低）

> 为什么大图不使用 Base64？
> 因为 Base64 编码后，图片大小会膨胀为源文件的 4/3，如果将大图编码到 HTML 或者 CSS 中，这样后者的体积增加，即便减少了 HTTP 请求，也无法弥补庞大的体积带来的性能开销。

#### WebP

全能型

Google 提出，转为 Web 开发的一种旨在加快图片加载速度的图片格式，支持有损压缩和无损压缩

WebP 像 JPEG 一样对图片细节丰富，像 PNG 一样支持透明，像 GIF 一样可以显示动态图片。

> 官方介绍：与 PNG 相比，WebP 无损图像的尺寸缩小了 26％。在等效的 SSIM 质量指数下，WebP 有损图像比同类 JPEG 图像小 25-34％。 无损 WebP 支持透明度（也称为 alpha 通道），仅需 22％ 的额外字节。对于有损 RGB 压缩可接受的情况，有损 WebP 也支持透明度，与 PNG 相比，通常提供 3 倍的文件大小。

> 由于 WebP 支持情况仅 Chrome、UC 等几家浏览器支持，所以局限性较大

### canvas 和 svg 的区别

共同点：都是有效的图形工具，对于数据较小的情况下，都很又高的性能，它们都使用 JavaScript 和 HTML；它们都遵守万维网联合会 (W3C) 标准。

**svg 的优点**

- 矢量图， 不依赖于像素，无限放大后不会失真
- 以 dom 的形式表示。事件绑定由浏览器分发到节点上

**svg 的缺点**

- dom 形式,涉及到动画时需要更新 DOM, 性能较低

**canvas 的优点**

- 定制性强,可以绘制
- 非 DOM 结构形式,用 JavaScript 进行绘制, 涉及到动画性能较高

**canvas 的缺点**

- 事件分发有 canvas 处理,绘制内容的事件需要自己处理
- 依赖于像素,无法高保真,画布大的时候,性能较低

canvas 是 html5 提供的新元素`<canvas>`，而 svg 存在的历史要比 canvas 久远，已经有十几年了。svg 并不是 html5 专有的标签，最初 svg 是用 xml 技术（超文本扩展语言，可以自定义标签或属性）描述二维图形的语言。在 H5 中看似 canvas 与 svg 很像，但是，他们有巨大的差别。

首先，从它们的功能上来讲，canvas 可以看做是一个画布。，其绘制出来的图形为**标量图**，因此，可以在 canvas 中引入 jpg 或 png 这类格式的图片，在实际开发中，大型的网络**游戏**都是用 canvas 画布做出来的，并且 canvas 的技术现在已经相当的成熟。另外，我们喜欢用 canvas 来做一些统计用的图表，如柱状图曲线图或饼状图等。
而 svg，所绘制的图形为**矢量图**，所以其用法上受到了限制。因为只能绘制矢量图，所以 svg 中不能引入普通的图片，因为矢量图的不会失真的效果，在项目中我们会用来**做小图标**。但是由于其本质为矢量图，可以被无限放大而不会失真，这很适合被用来做地图，而百度地图就是用 svg 技术做出来的。

另外从技术发面来讲 canvas 里面绘制的图形不能被引擎抓取，如我们要让 canvas 里面的一个图片跟随鼠标事件：canvas.onmouseover=function(){}。
而 svg 里面的图形可以被引擎抓取，支持事件的绑定。另外 canvas 中我们绘制图形通常是通过 javascript 来实现，svg 更多的是通过标签来来实现，如在 svg 中绘制正矩形形就要用<rect>，这里我们不能用属性 style="width:XXX;height:XXX;"来定义。



### png8 和 png24 图片格式有什么区别

1. png8 和 png24 的根本区别是存储方式不同。“PNG8”是指 8 位索引色位图，“PNG24”是 24 位索引色位图
2. png8 有 1 位的布尔透明通道（要么完全透明，要么完全不透明，不支持半透明），png24 则有 8 位（256 阶）的布尔透明通道（所谓半透明）

- 切图时保存什么样的格式  
  色彩丰富的、大的图片切成 jpg 的；
  尺寸小的，色彩不丰富的和背景透明的切成 gif 或者 png8 的；
  半透明的切成 png24。

图像—模式，png8 当然只有 8 位/通道了



### [谈谈web中的图片优化](https://mp.weixin.qq.com/s?__biz=MzUyNDYxNDAyMg==&mid=2247484486&idx=1&sn=2da36c82ef04a1a6ed8aad23a558a484&chksm=fa2be4afcd5c6db99eaa20135de62588bc8e8fe96252f6a60e03465e78a483409f742341d656&mpshare=1&scene=1&srcid=0906NWo2SEDu7iGKOINwCASN&sharer_sharetime=1567737888859&sharer_shareid=01a8ec34179fc6c8c19ad42476f5b9a9&key=bbbf5d9eaed00888d20880c1f2e2f6e399718d63de6dfe6b623090728b38a81c267a57fba31c157c3ef33fec85e0b838f427fea023fd2b0d709729f2c876646b4435b9df4542e3e9246952847741e880&ascene=1&uin=MjI5NzIxOTgyNg%3D%3D&devicetype=Windows+10&version=62060833&lang=zh_CN&pass_ticket=FTew475B4FOPlZStOT4VLIuOm567ewOOeFuXCVSxInr0rEfZh%2F4%2BTmNMDZ2orK%2Fm)